/*
 * Copyright (c) 2019-present Sonatype, Inc.
 * This program and the accompanying materials are made available under
 * the terms of the Eclipse Public License 2.0 which accompanies this
 * distribution and is available at https://www.eclipse.org/legal/epl-2.0/.
 */
@use '../scss-shared/nx-container-helpers';

/*
  #Alerts
*/
.nx-alert {
  @include nx-container-helpers.container-horizontal;

  align-items: first baseline;
  background-color: var(--nx-swatch-white);
  border: 1px solid var(--nx-swatch-grey-05);
  border-radius: var(--nx-border-radius);
  box-sizing: border-box;
  display: flex;
  margin: 16px 0 24px 0;
  padding: var(--nx-spacing-4x);
  text-align: initial;
  max-width: var(--nx-width-text-wrapping);

  > .nx-icon {
    // replicate the vertical-alignment that fontawesome icons usually have.  vertical-align itself has
    // no effect here so we use relative positioning instead
    bottom: -0.125em;
    flex-shrink: 0;
    height: 1em;
    margin-right: var(--nx-spacing-4x);
    position: relative;
  }

  > .nx-btn--close {
    margin-left: 24px;

    &, &:hover, &:active, &:focus {
      background-color: transparent;
    }

    flex-shrink: 0;
    margin-left: auto;
  }

  // This "strut" has the same height as the close button and ensures that the alert content stays vertically centered
  // when the close button is not present
  &::before {
    // zero-width space
    content: '\200b';
    margin: var(--nx-spacing-base) 0;
  }
}

.nx-alert__content-wrap {
  @include nx-container-helpers.container-horizontal;

  align-items: center;
  display: flex;
  flex-grow: 1;
  min-height: 32px;
}

.nx-alert__content {
  @include nx-container-helpers.container-vertical;

  flex-grow: 1;
  overflow-wrap: anywhere;
}

.nx-alert--warning {
  background-color: var(--nx-swatch-orange-97);
  border-color: var(--nx-swatch-orange-40);

  > .nx-icon {
    color: var(--nx-color-alert-warning);
  }
}

.nx-alert--error {
  background-color: var(--nx-swatch-red-95);
  border-color: var(--nx-color-alert-error);

  > .nx-icon {
    color: var(--nx-color-alert-error);
  }
}

.nx-alert--info {
  background-color: var(--nx-swatch-blue-95);
  border-color: var(--nx-color-alert-info);

  > .nx-icon {
    color: var(--nx-color-alert-info);
  }
}

.nx-alert--success {
  background-color: var(--nx-swatch-green-95);
  border-color: var(--nx-color-alert-success);

  > .nx-icon {
    color: var(--nx-color-alert-success);
  }
}

footer, .nx-footer {
  .nx-alert {
    margin-left: auto;
    margin-right: auto;
  }
}
