/*
 * Copyright (c) 2019-present Sonatype, Inc.
 * This program and the accompanying materials are made available under
 * the terms of the Eclipse Public License 2.0 which accompanies this
 * distribution and is available at https://www.eclipse.org/legal/epl-2.0/.
 */
@use '../../scss-shared/nx-text-helpers';

.nx-skeleton-loader__status {
  @include nx-text-helpers.visually-hidden;
}

$-gradient-size: 3000px;

.nx-skeleton-loader__block {
  animation: 1.6s linear .25s infinite skeleton-animation;

  background-image: repeating-linear-gradient(
    to right,
    var(--nx-swatch-indigo-90),
    var(--nx-swatch-indigo-60) 83%,
    var(--nx-swatch-indigo-80) 89%,
    var(--nx-swatch-indigo-90)
  );
  background-size: $-gradient-size;


  border-radius: var(--nx-border-radius);

  > * {
    visibility: hidden;
  }
}

.nx-skeleton-loader__text {
  @extend .nx-skeleton-loader__block;

  display: inline-block;
  height: 1em;
  width: 150px;
  vertical-align: text-bottom;
}

.nx-skeleton-loader__multiline-text {
  > .nx-skeleton-loader__text {
    width: 100%;

    &:nth-child(3) {
      width: 50%;
    }
  }
}

@keyframes skeleton-animation {
  0% {
    background-position-x: 0px;
  }

  100% {
    background-position-x: $-gradient-size;
  }
}
